<div class="main-body">
    <div layout="row" layout-align="center center">
        <h1 class="font-pacifico header">Bread Scraps</h1>
    </div>
    <div style="height: 2px; margin-left: 120px; margin-right: 120px; margin-top: 20px;" class="accent"> </div>
    <div style="margin-top: 60px; margin-left: 140px; margin-right: 140px;" layout="row" layout-align="center center">
        <p>
            Don't you ever feel like listening to sad music? I know I do, so I created a simple API service that does exactly that: return
            a list of the saddest songs by any artist!.
        </p>
    </div>
    <div style="margin-top: 60px;">
        <div layout="row" layout-align="center center">
            <h1 class="font-pacifico sub-header">Try it out!</h1>
        </div>
        <div style="height: 2px; margin-left: 120px; margin-right: 120px; margin-top: 20px;" class="accent"> </div>
    </div>
    <div style="margin-top: 60px; margin-left: 120px; margin-right: 120px;" layout="row" layout-align="center center">
        <span class="custom-text" style="font-size: 50px;"> 1.- </span>
        <p style="margin-left: 20px; margin-right: 20px;">
            First login to your Spotify account. I need to get a Spotify acces_token in order to collect special data from the songs
            (To be honest, I don't really know why this data is token protected)
        </p>
    </div>
    <div style="margin-top: 60px;" layout="row" layout-align="center center">
        <div style="width: 270px;" ng-click="home.logToSpotify()" class="spotify-button" layout="row">
            <img src="images/spotify-icon-white.png" style="width:50px; height:50px;" />
            <span flex> </span>
            <div layout="column" layout-align="center center">
                Login to Spotify
            </div>
        </div>
    </div>
    <div class="custom-text" style="font-size: 25px; margin-top: 60px;" ng-show="{{home.accesToken !== null}}" layout="row" layout-align="center center">
        Token ready!
    </div>
    <div style="height: 2px; margin-left: 120px; margin-right: 120px; margin-top: 60px;" class="accent"> </div>
    <div style="margin-top: 60px; margin-left: 120px; margin-right: 120px;" layout="row" layout-align="center center">
        <span class="custom-text" style="font-size: 50px;"> 2.- </span>
        <p style="margin-left: 20px;">
            Almost there! Now just type the name of an Artist into the box an press ENTER. When you find the Artist you where looking
            for, click on it and wait for the magic to happen.
        </p>
    </div>
    <div style="margin-top: 60px;">
        <div layout="row" layout-align="center center">
            <div class="rounded" layout="row">
                <div layout="column" layout-align="center center">
                    <i class="material-icons">search</i>
                </div>
                <form ng-submit='home.searchArtist()'>
                    <input type="text" placeholder="Artist" class="input-rounded" ng-model="home.search" />
                </form>
            </div>
        </div>
    </div>
    <div style="margin-top: 40px;" ng-show="home.artistRequested">
        <div layout="row" layout-align="center center" class="songs-container" style="margin-left: 10px; margin-right: 10px;">
            <md-content class="c1" flex="30" style="height: 500px; padding-right: 10px;">
                <div class="artist-container" ng-click="home.loadSaddestSongs(artist.id, artist.name)" layout="row" style="  padding: 5px; height: 100px"
                    ng-value="artist" ng-repeat="artist in home.artists">
                    <div layout="column" layout-align="center start">
                        <img class="img-circle" style="height: 80px; width: 80px;" ng-src="{{ home.getImageURL(artist) }}" />
                    </div>
                    <div flex layout="column" layout-align="center start" style="margin-left: 40px;">
                        <span class="simple-text font-pacifico" style="font-size: 25px;">{{artist.name}}</span>
                    </div>
                </div>
            </md-content>
            <div class="separator-vertical"></div>
            <md-content class="c1" flex="60" style="height: 500px; margin-left: 50px">
                <div style="height: 500px;" ng-show="home.loading" layout="row" flex layout-align="center center">
                    <md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular>
                </div>
                <div ng-show="{{home.sadSongs.length > 0}}" layout="row" ng-value="song" ng-repeat="song in home.sadSongs" style="margin-left: 40px; padding: 10px; user-select: none; cursor:context-menu;">
                    <span class="custom-text" style="font-size: 50px; margin-right: 15px;"> {{$index + 1}} -</span>
                    <img style="height: 100px; width: 100px;" src="{{ song.album.imageUrl }}" />
                    <div flex="50" layout="column" style="margin-left: 40px;">
                        <span class="simple-text font-pacifico" style="font-size: 30px;">{{song.name}}</span>
                        <apan class="simple-text" style="font-size: 20px;">{{ song.album.name}}</span>
                    </div>
                    <div layout="column" style="-moz-user-select: none; -ms-user-select: none; user-select: none;" layout-align="center center">
                        <i ng-click="home.playSong(song)" class="material-icons orange md-48">play_circle_filled</i>
                    </div>
                </div>
                <div style="height: 500px;" ng-show="home.showRefreshButton" layout="row" flex layout-align="center center">
                    <div class="refresh-button" ng-click="home.refreshToken()">
                        Refresh Spotify Token
                    </div>
                </div>
            </md-content>
        </div>
        <div style="margin-top: 40px;" class="separator-horizontal"></div>
    </div>
    <div style="margin-top: 60px;">
        <div layout="row" layout-align="center center">
            <h1 class="font-pacifico sub-header">How does this work?</h1>
        </div>
        <div style="height: 2px; margin-left: 120px; margin-right: 120px; margin-top: 20px;" class="accent"> </div>
    </div>
    <div style="margin-top: 60px; margin-left: 140px; margin-right: 140px;" layout="column">
        <p>
            All right so, it fairly simple. A couple of months ago I read an <a href="http://rcharlie.com/2017-02-16-fitteR-happieR/#analysis">article</a>
            by this guy Charly Thompson who happens to be a data analyst. In there he described a formula to analyse the
            sentiment of a certain song by using the song's valence value (provided by Spotify), the number of "sad" words
            in the lyrics (full credit to
            <a href="http://saifmohammad.com/WebPages/NRC-Emotion-Lexicon.htm">NRC Lexicon project</a> by the National Research
            Council Canada for providing the Word Emotion Lexicon ) and the song's lyrical density. He eloquently called this the Gloom Index and 
            teh biggest the Gloom Index is, the saddest is the song!
        </p>
        <p>
            I created an REST API service that only need a working Spotify acces_token and an artist's Spotify id to work but there are
            also a series of options that can alter the outcome. The service, by default, considers all the songs
            with accounted lyrics in the artist's catalogue viable candidates to get a better (or worst) Gloom Index thus making the response 
            time hard to predict. These alternative options exist as a way of providing a response that can better fit the useres intentions. They are as follows:
        </p>
        <div layout="row" layout-align="center center">
            <table>
                <thead>
                    <tr>
                        <th style="width: 20%; text-align:left;" flex="20">
                            Key
                        </th>
                        <th style="width: 20%; text-align:left;" flex="20">
                            Value Type
                        </th>
                        <th style="width: 40%; text-align:left;" flex="60">
                            Value Description
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr >
                        <td class="key">
                            factor_no_lyrics
                        </td>
                        <td class="key">
                            boolean
                        </td>
                        <td>
                            When set to true, even the lyrics-less songs would be processed this is however not recommended
                        </td>
                    </tr>
                    <tr>
                        <td class="key">
                            thorough_analysis
                        </td>
                        <td class="key">
                            boolean
                        </td>
                        <td>
                             When set to false only the 15 best candidated for a better Gloom Index
                        </td>
                    </tr>
                    <tr>
                        <td class="key">
                            analyse_set_size
                        </td>
                        <td class="key">
                            int
                        </td>
                        <td>
                            This alters the size of the best candidates
                        </td>
                    </tr>
                    <tr>
                        <td class="key">
                            results
                        </td>
                        <td class="key">
                            int
                        </td>
                        <td>
                            The size of the result array
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div style="margin-top: 40px;" class="separator-horizontal"></div>
        <p style="text-align:left">
            Now, lets see how all this comes together. Next is a simple request with the necessary data to retieve Lana del Rey's saddest
            songs:
        </p>
        <div>
            <pre>
POST http://localhost:8080/api/getSaddestSongs/?spotifyToken=5fe0128...&artistId=00FQb4jTyendYWaN8pK0wa&artistName=Lana+del+Rey
HEADERS Origin : http://localhost:3000
            </pre>
        </div>
        <p>
            And a response would look like this:
        </p>
        <pre style="height: 300px; overflow-y:scroll;">
[
  {
    "name": "Body Electric",
    "id": "6rsXPxIVXPo4bPhZA5vLUX",
    "duration": 233.44,
    "valence": 0.104,
    "album": {
      "name": "Born To Die - The Paradise Edition",
      "imageUrl": "https://i.scdn.co/image/34d220e676923f06dcb162cf568a50310fa0dcd5"
    },
    "externalUrl": "https://open.spotify.com/track/6rsXPxIVXPo4bPhZA5vLUX",
    "artist": "Lana Del Rey",
    "lyrics": " Elvis is my daddy Marilyn's my mother Jesus is my bestest friend...",
    "pctSad": 0.15425531914893617,
    "lyricalDensity": 0.8053461274845785,
    "gloomIndex": 0.5872421215347148
  },
  {
    "name": "Black Beauty",
    "id": "63hHlajVLQnlFMAqSyePxO",
    "duration": 314.533,
    "valence": 0.115,
    "album": {
      "name": "Ultraviolence (Deluxe)",
      "imageUrl": "https://i.scdn.co/image/7eca0611a1b3280114688f2187b20d2cb5a6a504"
    },
    "externalUrl": "https://open.spotify.com/track/63hHlajVLQnlFMAqSyePxO",
    "artist": "Lana Del Rey",
    "lyrics": " I paint my nails black I dye my hair a darker shade of...",
    "pctSad": 0.1736111111111111,
    "lyricalDensity": 0.4578215958261931,
    "gloomIndex": 0.5690470135265793
  },
  {
    "name": "Terrence Loves You",
    "id": "44JxL1qNXXQYniZ5T3MUs9",
    "duration": 290.636,
    "valence": 0.0921,
    "album": {
      "name": "Honeymoon",
      "imageUrl": "https://i.scdn.co/image/71dcd86f15f31ba141cb7592068f8a9e925fb10c"
    },
    "externalUrl": "https://open.spotify.com/track/44JxL1qNXXQYniZ5T3MUs9",
    "artist": "Lana Del Rey",
    "lyrics": " You are what you are I don't matter to anyone But Hollywood legends...",
    "pctSad": 0.14285714285714285,
    "lyricalDensity": 0.45761708804139883,
    "gloomIndex": 0.5580655062886714
  },
  {
    "name": "Art Deco",
    "id": "5jqNQZBwbZWQXPWfo0ygZF",
    "duration": 295.066,
    "valence": 0.0584,
    "album": {
      "name": "Honeymoon",
      "imageUrl": "https://i.scdn.co/image/71dcd86f15f31ba141cb7592068f8a9e925fb10c"
    },
    "externalUrl": "https://open.spotify.com/track/5jqNQZBwbZWQXPWfo0ygZF",
    "artist": "Lana Del Rey",
    "lyrics": " Club queen on the downtown scene Prowling around at night...",
    "pctSad": 0.11363636363636363,
    "lyricalDensity": 0.4473575403469055,
    "gloomIndex": 0.5530362238833468
  },
  {
    "name": "Old Money",
    "id": "14S9d9TPGqTgOMMtTbqvif",
    "duration": 271.48,
    "valence": 0.159,
    "album": {
      "name": "Ultraviolence",
      "imageUrl": "https://i.scdn.co/image/4f3c4840b1424d230087c8b8936c389b4fee675a"
    },
    "externalUrl": "https://open.spotify.com/track/14S9d9TPGqTgOMMtTbqvif",
    "artist": "Lana Del Rey",
    "lyrics": " Blue hydrangea, cold cash divine...",
    "pctSad": 0.15748031496062992,
    "lyricalDensity": 0.4678060998968616,
    "gloomIndex": 0.5360752834564457
  },
  {
    "name": "Swan Song",
    "id": "1DYRRZ5rSlc1PopnB7azLZ",
    "duration": 323.475,
    "valence": 0.0382,
    "album": {
      "name": "Honeymoon",
      "imageUrl": "https://i.scdn.co/image/71dcd86f15f31ba141cb7592068f8a9e925fb10c"
    },
    "externalUrl": "https://open.spotify.com/track/1DYRRZ5rSlc1PopnB7azLZ",
    "artist": "Lana Del Rey",
    "lyrics": " Put your white tennis shoes on and follow me Why work so hard when...",
    "pctSad": 0.07432432432432433,
    "lyricalDensity": 0.4575314939330705,
    "gloomIndex": 0.5350650217339993
  },
  {
    "name": "24",
    "id": "302ZEWd1TDXvA4PLz0UQhj",
    "duration": 295.96,
    "valence": 0.0837,
    "album": {
      "name": "Honeymoon",
      "imageUrl": "https://i.scdn.co/image/71dcd86f15f31ba141cb7592068f8a9e925fb10c"
    },
    "externalUrl": "https://open.spotify.com/track/302ZEWd1TDXvA4PLz0UQhj",
    "artist": "Lana Del Rey",
    "lyrics": " There's only 24 hours in a day And half as many ways for you to...",
    "pctSad": 0.11224489795918367,
    "lyricalDensity": 0.33112582781456956,
    "gloomIndex": 0.5328560413569401
  },
  {
    "name": "Pretty When You Cry",
    "id": "6w9SUzyKDgcAoKcMYXYzBI",
    "duration": 234.146,
    "valence": 0.173,
    "album": {
      "name": "Ultraviolence",
      "imageUrl": "https://i.scdn.co/image/4f3c4840b1424d230087c8b8936c389b4fee675a"
    },
    "externalUrl": "https://open.spotify.com/track/6w9SUzyKDgcAoKcMYXYzBI",
    "artist": "Lana Del Rey",
    "lyrics": " All the pretty stars shine for you, my love Am I that girl that you...",
    "pctSad": 0.14925373134328357,
    "lyricalDensity": 0.5722925012598977,
    "gloomIndex": 0.530835261288052
  },
  {
    "name": "Freak",
    "id": "3sYDVtqO35oRSOIMx7dOqR",
    "duration": 295.093,
    "valence": 0.128,
    "album": {
      "name": "Honeymoon",
      "imageUrl": "https://i.scdn.co/image/71dcd86f15f31ba141cb7592068f8a9e925fb10c"
    },
    "externalUrl": "https://open.spotify.com/track/3sYDVtqO35oRSOIMx7dOqR",
    "artist": "Lana Del Rey",
    "lyrics": " Flames so hot that they turn blue Palms reflecting in your eyes...",
    "pctSad": 0.10695187165775401,
    "lyricalDensity": 0.6336985289383347,
    "gloomIndex": 0.5233635576972372
  },
  {
    "name": "Carmen",
    "id": "2wiXEarKt55K8aW8elRqDW",
    "duration": 248.72,
    "valence": 0.0381,
    "album": {
      "name": "Born To Die - The Paradise Edition",
      "imageUrl": "https://i.scdn.co/image/34d220e676923f06dcb162cf568a50310fa0dcd5"
    },
    "externalUrl": "https://open.spotify.com/track/2wiXEarKt55K8aW8elRqDW",
    "artist": "Lana Del Rey",
    "lyrics": " Darling, darling Doesn't have a problem lying to herself Cause her liquor's...",
    "pctSad": 0.03070175438596491,
    "lyricalDensity": 0.9166934705693149,
    "gloomIndex": 0.5103729260833009
  }
]            </pre>
    </div>
    <div style="height: 2px; margin-left: 120px; margin-right: 120px; margin-top: 20px;" class="accent"> </div>
    <div style="height: 150px;" layout="column" layout-align="center center">
        <div layout="row" layout-align="center center">
            <p class="simple-text">By Hugo Medina</p>
        </div>
        <a href="https://github.com/Rhadammanthis/BreadScraps">
            <img src="images/github-white.png" />
        </a>
    </div>
    <md-button ng-click="home.button()" class="md-raised">Button</md-button>
</div>